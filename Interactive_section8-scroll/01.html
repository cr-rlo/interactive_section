<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Interactive Web</title>
    <link rel="stylesheet" href="css/reset.css">
    <style>
    img {
        max-width: 100%;
    }
    .content {
        /* viewport height */
        height: 1000vh;
        padding: 20%;
        background: yellowgreen;
    }
    .output {
        position: fixed; /* 화면에 고정 */
        left: 0;
        top: 0;
        width: 100%;
        font-size: 2rem;
        font-weight: 200;
        color: #fff;
        background: rgba(0, 0, 0, 0.4);
    }
    .ilbuni {
        width: 100px;
        margin: 20px auto;
        transition: 1s;
    }
    .ilbuni.zoom {
        transform: scale(2); /* 확대 효과 적용 */
    }
    </style>
</head>
<body>
    <div class="output">output</div>
    <div class="content">
        <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illo culpa id ratione alias illum aliquam accusamus deleniti dolores dignissimos, temporibus iste perspiciatis voluptatem repudiandae debitis similique fugiat dolor, doloremque quos mollitia repellendus iure exercitationem molestiae ab! Veritatis harum voluptate enim ducimus amet vitae veniam dignissimos possimus facilis eaque minus similique, vel commodi sed? Sequi distinctio debitis numquam, necessitatibus officiis quam, sed rerum id culpa totam provident repellendus iste, laborum maiores, consequuntur fugiat voluptatibus? Ad, architecto. Ipsam minus quis, ea quas, ex impedit quia distinctio commodi expedita laudantium dolores cum? Quisquam, odit, laboriosam consequuntur expedita optio laudantium. Optio laboriosam, repellendus laborum.
        </p>
        <figure class="ilbuni">
            <img src="images/ilbuni_0.png" alt="일분이">
        </figure>
    </div>

    <script>
        (function() {
            const outputElem = document.querySelector('.output'); // output 요소 선택
            const ilbuniElem = document.querySelector('.ilbuni');
            let num = 0; // 스크롤 이벤트가 너무 자주 발생하는 것을 방지하기 위한 변수

            function showValue() {
                // outputElem.innerHTML = window.pageYOffset; -> 스크롤 된 양을 반환
                // 이제는 window.scrollY 사용 권장
                // outputElem.innerHTML = ilbuniElem.offsetTop; -> 요소의 문서 내 위치(상단에서부터의 거리)를 반환

                let posY = ilbuniElem.getBoundingClientRect().top;
                // 메서드 호출하면 객체 반환 -> 그 중 top 속성 사용
                outputElem.innerHTML = posY;
                //outputElem에 
                
                
                //스크롤 위치에 따라 ilbuniElem에 zoom 클래스 추가/제거
                if (posY < window.innerHeight * 0.2) {
                    ilbuniElem.classList.add('zoom'); // 확대 효과 적용
                } else {
                    ilbuniElem.classList.remove('zoom');
                }
            }
            
            window.addEventListener('scroll', function() {
                showValue();
            });
            //scroll 이벤트 발생 시 showValue 함수 호출
            showValue();
            //혹은 바로 호출하여 초기값 설정

        })();
    </script>
</body>
</html>
